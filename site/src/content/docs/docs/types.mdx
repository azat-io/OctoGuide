---
description: Types used in OctoGuide's API and rules.
title: Types
---

These type shapes are shared between OctoGuide's [API](./api) and [Building Rules](./building-rules).

## `Entity`

A resolved entity retrieved from the GitHub API.
It will contain:

- `data`: The direct data returned from the GitHub API.
- `type`: The type of entity that was scanned, indicating what `data` contains:
  - `"comment"`: [issue or pull request comment data](https://docs.github.com/en/rest/issues/comments?apiVersion=2022-11-28) or [discussion comment data](https://docs.github.com/en/graphql/guides/using-the-graphql-api-for-discussions#discussioncomment)
  - `"discussion"`: [discussion data](https://docs.github.com/en/graphql/guides/using-the-graphql-api-for-discussions#discussion)
  - `"issue"`: [issue data](https://docs.github.com/en/rest/issues/issues?apiVersion=2022-11-28#get-an-issue)
  - `"pull_request"`: [pull request data](https://docs.github.com/en/rest/pulls/pulls?apiVersion=2022-11-28#get-a-pull-request)

See [`entities.ts`](https://github.com/JoshuaKGoldberg/OctoGuide/blob/main/src/types/entities.ts) for the specifics of the `Entity` type union and its constituents.

## `RuleAbout`

Metadata describing an OctoGuide rule.

The following properties are all required:

- `description: string`: Single sentence description of the rule.
- `explanation: string[]`: Additional sentences describing the rule.
- `name: string`: kebab-case name of the rule.

See [`rules.ts`](https://github.com/JoshuaKGoldberg/OctoGuide/blob/main/src/types/rules.ts) for the specifics of the `RuleAbout` interface.

## `RuleContext`

Shared context provided to rules when they run on an entity.

- `locator`: Contains the `owner` and `repository` strings of the entity.
- `octokit`: [`Octokit`](https://octokit.github.io/rest.js): instance that can send GitHub API calls.
- `report`: [`RuleReporter`](#rulereporter): receives [`RuleReportData`](#rulerpeportdata) to register a new violation.

See [`rules.ts`](https://github.com/JoshuaKGoldberg/OctoGuide/blob/main/src/types/rules.ts) for the specifics of the `RuleContext` interface.

## `RuleReporter`

Shared context function that a rule can use to register a new violation.
Receives a [`RuleReportData`](#rulereportdata) object.

See [Building Rules](./building-rules) for how these are used.

See [`rules.ts`](https://github.com/JoshuaKGoldberg/OctoGuide/blob/main/src/types/rules.ts) for the specifics of the `RuleReporter` interface.

## `RuleReport`

A single report generated by a rule for a GitHub entity.
Contains:

- `about`: [`RuleAbout`](#ruleabout)
- `data`: [`RuleReportData`](#rulereportdata)

See [`reporters.ts`](https://github.com/JoshuaKGoldberg/OctoGuide/blob/main/src/types/reporters.ts) for the specifics of the `RuleReport` interface.

## `RuleReportData`

A single report generated by a rule for a GitHub entity.
Contains:

- `primary: string`: Single sentence description of the reported violation.
- `secondary?: string[]`: Any additional sentences detailing the violation.
- `suggestion: string[]`: Steps the user can take to resolve the violation.

See [Building Rules](./building-rules) for how these are used.

See [`reporters.ts`](https://github.com/JoshuaKGoldberg/OctoGuide/blob/main/src/types/reporters.ts) for the specifics of the `RuleReportData` interface.
